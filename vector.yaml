sources:
  journald:
    type: journald
    journal_directory: "/var/log/journal"

transforms:
  exclude_vector_logs:
    type: "filter"
    inputs: ["journald"]
    condition: '.CONTAINER_NAME != "vector_logging"'

sinks:
  new_relic:
    type: "new_relic"
    inputs: ["exclude_vector_logs"]
    account_id: "${NEW_RELIC_ACCOUNT_ID}" # Use the environment variable
    license_key: "${NEW_RELIC_LICENSE_KEY}"
    api: "logs"
    region: "eu"
  # console:
    # type: "console"
    # # inputs: ["journald"] # Ensure this is connected to the transform
    # inputs: ["exclude_vector_logs"] # Ensure this is connected to the transform
    # target: "stdout"
    # encoding:
      # codec: "json"
